<%- include('_header') %>
  Index


  <table class="table">
    <thead>
      <tr>
        <th scope="col">Id</th>
        <th scope="col">Start</th>
        <th scope="col">End</th>
        <th scope="col">Title</th>
        <th scope="col">Description</th>
        <th scope="col">done</th>
        <th scope="col">
          <a href="/task/create" class="btn btn-success">Create</a>
        </th>
      </tr>
    </thead>

    <tbody>
      <% tasks.forEach(task => { %>
        <tr>
          <td><%= task.id %></td>
          <td><%= new Date(task.start_date).toLocaleDateString("en-US") %></td>
          <td><%= new Date(task.end_date).toLocaleDateString("en-US") %></td>
          <td><%= task.title %></td>
          <td><%= task.description %></td>
          <td>
            
            <a href="/task/toggle-done/<%= task.id %>" class="btn <%= task.done ? 'btn-success' : 'btn-danger'%> "><%= task.done %></a>

          </td>
          <td>
            <a href="/task/edit/<%= task.id %>" class="btn btn-primary">Edit</a>
            <a href="/task/delete/<%= task.id %>" class="btn btn-danger">Delete</a>
          </td>
        </tr>
      <% }) %>

    </tbody>

  </table>

<%- include('_footer') %>
