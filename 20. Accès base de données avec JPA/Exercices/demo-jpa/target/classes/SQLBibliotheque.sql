CREATE TABLE LIVRE (
    ID int NOT NULL AUTO_INCREMENT PRIMARY KEY , 
    TITRE varchar(255),
    AUTEUR varchar(50)
);
CREATE TABLE CLIENT (
    ID int NOT NULL AUTO_INCREMENT PRIMARY KEY , 
    NOM varchar(50),
    PRENOM varchar(50)
);
CREATE TABLE EMPRUNT (
    ID int NOT NULL AUTO_INCREMENT PRIMARY KEY , 
    DATE_DEBUT TIMESTAMP,
    DELAI int(10) NULL,
    DATE_FIN TIMESTAMP NULL,
    ID_CLIENT int
);
CREATE TABLE COMPO (
    ID int NOT NULL AUTO_INCREMENT PRIMARY KEY , 
    ID_LIV int,
    ID_EMP int
);
ALTER TABLE COMPO ADD CONSTRAINT FOREIGN KEY (ID_LIV) REFERENCES LIVRE(ID);
ALTER TABLE COMPO ADD CONSTRAINT FOREIGN KEY (ID_EMP) REFERENCES EMPRUNT(ID);
ALTER TABLE EMPRUNT ADD CONSTRAINT FOREIGN KEY (ID_CLIENT) REFERENCES CLIENT(ID);



insert into CLIENT (NOM, PRENOM) VALUES ('Brigand', 'Pierre');
insert into CLIENT (NOM, PRENOM) VALUES ('YU', 'Cheng');
insert into CLIENT (NOM, PRENOM) VALUES ('BERRAD', 'Hicham');
insert into LIVRE(ID, TITRE, AUTEUR) VALUES (1, 'Vingt mille lieues sous les mers', 'Jules Verne');
insert into LIVRE(ID, TITRE, AUTEUR) VALUES (2, 'Germinal', 'Emile Zola');
insert into LIVRE(ID, TITRE, AUTEUR) VALUES (3, 'Guerre et paix', 'Léon Tolstoï');
insert into LIVRE(ID, TITRE, AUTEUR) VALUES (4, 'Apprendre à parler aux animaux', 'Gaston Pouet');
insert into LIVRE(ID, TITRE, AUTEUR) VALUES (5, '1001 recettes de Cuisine', 'Jean-Pierre Coffe');
insert into EMPRUNT(ID, DATE_DEBUT, DATE_FIN, DELAI, ID_CLIENT) VALUES (1, '2017-11-12', '2017-11-18', 15, 1);
insert into EMPRUNT(ID, DATE_DEBUT, DATE_FIN, DELAI, ID_CLIENT) VALUES (2, '2017-12-08', '2017-12-23', 30, 2);
insert into EMPRUNT(ID, DATE_DEBUT, DATE_FIN, DELAI, ID_CLIENT) VALUES (3, '2017-12-09', '2018-01-04', 30, 3);
insert into EMPRUNT(ID, DATE_DEBUT, DATE_FIN, DELAI, ID_CLIENT) VALUES (4, '2018-01-03', NULL, 21, 1);
insert into EMPRUNT(ID, DATE_DEBUT, DATE_FIN, DELAI, ID_CLIENT) VALUES (5, '2018-01-13', NULL, 21, 3);
insert into COMPO(ID_LIV, ID_EMP) VALUES (1, 1);
insert into COMPO(ID_LIV, ID_EMP) VALUES (4, 1);
insert into COMPO(ID_LIV, ID_EMP) VALUES (2, 2);
insert into COMPO(ID_LIV, ID_EMP) VALUES (3, 2);
insert into COMPO(ID_LIV, ID_EMP) VALUES (1, 3);
insert into COMPO(ID_LIV, ID_EMP) VALUES (5, 4);
insert into COMPO(ID_LIV, ID_EMP) VALUES (2, 4);
insert into COMPO(ID_LIV, ID_EMP) VALUES (3, 5);